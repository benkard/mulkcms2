{@java.util.List<eu.mulk.mulkcms2.benki.lazychat.LazychatMessage> posts}
{@java.lang.Boolean authenticated}
{@java.lang.Boolean hasPreviousPage}
{@java.lang.Boolean hasNextPage}
{@java.lang.Integer previousCursor}
{@java.lang.Integer nextCursor}
{@java.lang.Integer pageSize}

{#include base.html}

{#title}Benki Lazychat{/title}
{#siteSection}Lazychat{/siteSection}
{#lazychatClass}this-page{/lazychatClass}

{#head}{/head}

{#body}

<div class="paging">
  {#if hasPreviousPage}<a href="?i={previousCursor}&n={pageSize}" class="pure-button">⇠ previous page</a>{/if}
  <span class="filler"></span>
  {#if hasNextPage}<a href="?i={nextCursor}&n={pageSize}" class="pure-button">next page ⇢</a>{/if}
</div>

<section id="main-content">
  {#for post in posts}
    {#with post}
      <article class="lazychat-message">
        <header>
          <div class="lazychat-message-info">
            <time datetime="{date.htmlDateTime}">{date.humanDateTime}</time>
            <span class="lazychat-message-owner">{owner.firstName} {owner.lastName}</span>
          </div>
        </header>

        <section class="lazychat-message-content">
          {contentHtml.raw}
        </section>
      </article>
    {/with}
  {/for}
</section>

<div class="paging">
  {#if hasPreviousPage}<a href="?i={previousCursor}&n={pageSize}" class="pure-button">⇠ previous page</a>{/if}
  <span class="filler"></span>
  {#if hasNextPage}<a href="?i={nextCursor}&n={pageSize}" class="pure-button">next page ⇢</a>{/if}
</div>

{/body}

{/include}
